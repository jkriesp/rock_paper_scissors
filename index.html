<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>RPS-Game</title>
</head>

<body>

    <script>
        function computerPlay() {
            let c_hand = ["rock", "paper", "scissor"];
            return c_hand[getRandomInt(3)];
        }

        function getRandomInt(max) {
            return Math.floor(Math.random() * Math.floor(max));
        }

        function playRound(playerSelection, computerSelection) {
            playerSelection = playerSelection.toLowerCase();
            computerSelection = computerSelection.toLowerCase();
            if (!(playerSelection == computerSelection)) {
                
                if (playerSelection === "rock" && computerSelection === "scissor") {
                    return true;
                } else if (playerSelection === "scissor" && computerSelection === "paper") {
                    return true;
                } else if (playerSelection === "paper" && computerSelection === "rock") {
                    return true;
                } else {
                    return false;
                }
            }
            return console.log("Tie! " + playerSelection + " vs. " + computerSelection)
        }

        function game() {
            round = 0;
            player_score = 0;
            computer_score = 0;
            while (round < 5) {
                const playerSelection = window.prompt("Rock, paper, scissor?")
                const computerSelection = computerPlay()

                if (playRound(playerSelection, computerSelection)) {
                    player_score++;
                    console.log("Player wins round! " + playerSelection + " beats " + computerSelection)
                }

                if (!playRound(playerSelection, computerSelection) && !(playerSelection == computerSelection)) {
                    computer_score++;
                    console.log("Computer wins round! " + computerSelection + " beats " + playerSelection)
                }

                if (round == 4) {
                    if (player_score > computer_score) {
                        console.log("Player wins! " + player_score + " against " + computer_score)
                    } else {
                        console.log("Computer wins! " + computer_score + " against " + player_score)
                    }
                }
                round++;
            }
        }
        game()


    </script>
</body>

</html>